{% extends 'ItechSupItechSisBundle::layout.html.twig' %}

{% block content%}
    <h1>Etudiants</h1>

    <table class="record_properties">
        <tbody>
            <tr>
                <th>Nom</th>
                <td>{{ entity.name }}</td>
            </tr>
            <tr>
                <th>Prénom</th>
                <td>{{ entity.surname }}</td>
            </tr>
            <tr>
                <th>Session</th>
                <td>{{entity.session.formation.title }}</td>
            </tr>

            <tr>
                <th>Actions</th>
                <td>
                    <a href="{{ path('student_edit', { 'id': entity.id }) }}"class="button">
                        Edition
                    </a>

                </td>
            </tr>
        </tbody>
    </table>
    {{ form_widget(delete_form, {'attr': {'class': 'new-entry button'}}) }}
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <table class="record_properties">
        <caption><h2>Listes des events</h2></caption>
        <tr>
            <th>Matière</th>
            <th>Date et heure de début du cours</th>
            <th>Date et heure de fin du cours</th>
            <th>Salle</th>
            <th>Professeur</th>
        </tr>
        {% for event in entity.session.events %}
        <tr>
            <td>
                {{ event.title }}
            </td>
            <td>{{ event.startTime|date('d-M-Y H:i') }}</td>
            <td>{{ event.endTime|date('d-M-Y H:i')}}</td>
            <td>{{ event.room.number }}</td>
            <td>{{ event.teacher.fullName }}</td>
        </tr>
        {% endfor %}
    </table>
    <ul class="record_actions">
        <li>
            <a href="{{ path('student') }}"class="new-entry button">
                Retour à la liste des étudiants
            </a>
        </li>
    </ul>
{% endblock %}
